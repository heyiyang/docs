<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="/docs/">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Reinitializing Your VM - Koding Community Docs
    </title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300">
    <link rel="stylesheet" href="css/main.css">
  </head>
  <body class="content-wrap article-detail">
    <header class="header">
      <h1>Reinitializing Your VM</h1>
    </header>
    <div id="sidebar"><ul>
<li><a href="/docs/">Home</a></li>
<li><a href="/docs/guides/koding-overview/">Koding Overview</a></li>
<li><a href="/docs/#frequently-asked-questions">FAQ</a></li>
<li><a href="/docs/#feature-exploration">Feature Exploration</a></li>
<li><a href="https://github.com/koding/docs/wiki">Wiki</a></li>
<li><a href="https://github.com/koding/docs/issues/new">Submit an Issue</a></li>
</ul>

      <h4>Guide Links</h4>
      <ul>
        <li><a href="/docs/guides/reinitializing-your-vm/#video">Video</a>
        </li>
        <li><a href="/docs/guides/reinitializing-your-vm/#what-is-reinitializing?">What is Reinitializing?</a>
        </li>
        <li><a href="/docs/guides/reinitializing-your-vm/#reinitializing-experiment">Reinitializing Experiment</a>
        </li>
        <li><a href="/docs/guides/reinitializing-your-vm/#are-there-any-'gotchas'?">Are there any ‘Gotchas’?</a>
        </li>
        <li><a href="/docs/guides/reinitializing-your-vm/#additional-resources">Additional Resources</a>
        </li>
      </ul>
    </div>
    <div id="content">
      <article class="article">
        <section class="content"><p>This guide will go over what reinitializing is, and the ramifications and
advantages of using the feature. It&#39;s a good feature to know, and
understanding it will help you make decisions to make the best use of Koding
as possible. So, lets get&nbsp;started!</p>
<h2 id="video">Video</h2>
<iframe width="680" height="450" src="//www.youtube.com/embed/gOnMImx0Wwk" frameborder="0" allowfullscreen></iframe>



<h2 id="what-is-reinitializing?">What Is&nbsp;Reinitializing?</h2>
<p>When you reinitialize a <span class="caps">VM</span> you reset it to “factory defaults”, as it were.
It resets <strong>everything</strong> outside of your <code>/home</code> directory. This
includes removing, for example, mysql databases, phpmyadmin, installed
apt-get libraries,&nbsp;everything.</p>
<p>What does this do for you? Well, it&#39;s similar to wiping and reinstalling
a computers <span class="caps">OS</span>. You lose all of the installed programs, but you also fix any
odd behavior that may have been occuring on the OS. The computer might have
had broken libraries installed, bad programs, etc. By wiping everything,
you can easily start over, rather than trying to “fix” it all.
Reinitializing lets you do this, without losing any of your <code>/home</code> <span class="amp">&amp;</span>
<code>/home/username</code> files!</p>
<p>Reinitializing is a powerful tool, and it&#39;s so freely and cheaply available
that it can be used to “fix things” quite&nbsp;easily.</p>
<h2 id="reinitializing-experiment">Reinitializing&nbsp;Experiment</h2>
<p>For the sake of understanding what really happens, lets create a few files.
To do this, run the following&nbsp;command:</p>
<pre><code>sudo touch ~/userdir.txt /home/homedir.txt /rootdir.txt</code></pre>
<p>This created three files. One in the userdir called <code>userdir.txt</code>, one in
the home directory called <code>homedir.txt</code>, and one in the root directory
called <code>rootdir.txt</code>.</p>
<p>Now, reinitialize by clicking on your <span class="caps">VM</span> under <strong>“Your Environments”</strong> and
selecting <strong>“Re-initialize <span class="caps">VM</span>”</strong>. See the image below as reference.
<img src="/docs/guides/reinitializing-your-vm/reinitializevm.png" alt="Reinitialize VM"></p>
<p>Now lets look at what&nbsp;happened.</p>
<pre><code>leeolayvar@vm-0:~$ ls -l /
total 41020
drwxr-xr-x   2 root   root        4096 Jul 29 20:04 bin
drwxr-xr-x   2 root   root        4096 Jul 29 20:03 boot
drwxr-xr-x   6 root   root        4096 Jul 31 17:57 dev
drwxr-xr-x  94 root   root        4096 Jul 31 17:57 etc
-rw-r--r--   1 root   root    41924052 Jul 29 20:06 go_1.1.1-godeb1_amd64.deb
drwxr-xr-x   3 root   root        4096 Jul 31 17:57 home
drwxr-xr-x  17 root   root        4096 Jul 29 20:03 lib
drwxr-xr-x   2 root   root        4096 Jul 29 20:01 lib64
drwxr-xr-x   2 root   root        4096 Jul 31 17:57 lost+found
drwxr-xr-x   2 root   root        4096 Jul 29 20:01 media
drwxr-xr-x   2 root   root        4096 Apr 19 09:03 mnt
drwxr-xr-x   2 root   root        4096 Jul 29 20:01 opt
dr-xr-xr-x 937 nobody nogroup        0 Jul 31 17:57 proc
-rw-r--r--   1 root   root        3113 Jul 25 02:18 PublicKey
drwx------   4 root   root        4096 Jul 29 20:04 root
drwxr-xr-x  13 root   root         440 Jul 31 17:57 run
drwxr-xr-x   2 root   root        4096 Jul 29 20:03 sbin
drwxr-xr-x   2 root   root        4096 Jun 11  2012 selinux
drwxr-xr-x   2 root   root        4096 Jul 29 20:01 srv
dr-xr-xr-x  13 nobody nogroup        0 Jul 31 17:57 sys
drwxrwxrwt   5 root   root        4096 Jul 31 17:57 tmp
drwxr-xr-x  10 root   root        4096 Jul 29 20:01 usr
drwxr-xr-x  14 root   root        4096 Jul 31 17:57 var
leeolayvar@vm-0:~$ ls -l /home
total 4
-rw-r--r--  1 root       root          0 Jul 31 17:56 homedir.txt
drwxr-xr-x 14 leeolayvar leeolayvar 4096 Jul 31 17:54 leeolayvar
leeolayvar@vm-0:~$ ls -l ~
total 20
drwxr-xr-x 8 leeolayvar leeolayvar 4096 Jul 27 05:34 Applications
drwxr-xr-x 2 leeolayvar leeolayvar 4096 Jun 18 22:37 Backup
drwxr-xr-x 3 leeolayvar leeolayvar 4096 Jul 13 04:08 Documents
drwxr-xr-x 3 leeolayvar leeolayvar 4096 Jul 29 05:37 projects
-rw-r--r-- 1 leeolayvar leeolayvar    0 Jul 31 17:56 userdir.txt
drwxr-xr-x 2 leeolayvar leeolayvar 4096 Jul 31 17:35 Web
leeolayvar@vm-0:~$</code></pre>
<p>You&#39;ll notice that the <code>rootdir.txt</code> file has been removed from the root
directory, while the homedir and userdir files have been left&nbsp;intact!</p>
<p>This is all there really is to reinitializing. It removes everything
outside of your home directory, and returns it to factory defaults.
Setting up your environments to use your local namespace will allow
you to reinitialize anytime you want, which is pretty cool. I encourage&nbsp;it.</p>
<h2 id="are-there-any-'gotchas'?">Are there any&nbsp;‘Gotchas’?</h2>
<p>There are no real Gotchas, it works perfectly as expected. The only real
confusion, is that sometimes people forget where something is actually&nbsp;installed.</p>
<p>For example, if you install MySQL from apt-get then by default it is
not saving the database in your user directory. This is one of the bigger
points that you should understand. Unless you have set MySQL to use a
user directory as the storage location, and you reinitialize, you <em>will</em>
destroy your database. Same goes for any non-userspace&nbsp;storage.</p>
<p>In the future we may go over changing default locations for MySQL, MongoDB,
etc. However, currently i feel this is a bit outside the scope of these
guides. Nevertheless, feel free to
<a href="https://github.com/koding/docs/issues/new">make an issue on it</a> and
request that it is covered in these guides. If there is enough interest,
i will gladly include it&nbsp;:)</p>
<p>For now though, please see Additional Resources below for various guides
we will be&nbsp;adding.</p>
<h2 id="additional-resources">Additional&nbsp;Resources</h2>
<ul>
<li><a href="http://www.ubuntugeek.com/how-to-change-the-mysql-data-default-directory.html">How to change the MySQL data default&nbsp;directory</a></li>
</ul>
</section>
      </article>
    </div>
    <footer>
      <div class="nav"><a href="">« Back to Home</a></div>
      <section class="about"><h4 id="having-trouble,-or-is-something-outdated?">Having Trouble, or Is Something Outdated?</h4>
<p>Koding changes quite rapidly, so if one of these guides are outdated,
or if something just doesn&#39;t quite make sense to you, please
<a href="https://github.com/koding/docs/issues/new">submit an issue</a> on the matter. Doing this will help me keep these guides
up to date, and help any Koders using these guides after you. Thanks!</p>

        <div class="credits"> This guide was created by <span class="author"><a href="https://github.com/leeolayvar">Lee Olayvar</a></span>
        </div>
      </section>
      <section class="copy">
        <p>created on&nbsp;<a href="https://koding.com">Koding</a>&nbsp;and powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a></p>
      </section>
    </footer>
  </body>
</html>